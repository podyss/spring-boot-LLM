{"version":3,"sources":["src/modifiers/axis.ts","src/modifiers/boundingRectangle.ts","src/modifiers/snap.ts"],"names":["configurator","Modifier"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA,EACE;AAAA,EACA;AAAA,OAKK;AAOA,IAAM,gBAAN,MAAM,sBAAqB,SAGhC;AAAA,EACA,MAAM,EAAC,UAAS,GAAkB;AAChC,QAAI,CAAC,KAAK,SAAS;AACjB,aAAO;AAAA,IACT;AAEA,UAAM,EAAC,MAAM,MAAK,IAAI,KAAK;AAE3B,WAAO,iCACF,YADE;AAAA,MAEL,CAAC,IAAI,GAAG;AAAA,IACV;AAAA,EACF;AAGF;AAlBa,cAiBJ,YAAY,aAAa,aAAY;AAjBvC,IAAM,eAAN;AAoBA,IAAM,yBAAyB,aAAa,UAAU;AAAA,EAC3D,MAAM;AAAA,EACN,OAAO;AACT,CAAC;AAEM,IAAM,2BAA2B,aAAa,UAAU;AAAA,EAC7D,MAAM;AAAA,EACN,OAAO;AACT,CAAC;;;ACxCM,SAAS,iCACd,OACA,WACA,cACA;AACA,QAAM,QAAQ,mBACT;AAGL,MAAI,MAAM,kBAAkB,MAAM,UAAU,KAAK,aAAa,KAAK;AACjE,UAAM,IAAI,aAAa,MAAM,MAAM,kBAAkB;AAAA,EACvD,WACE,MAAM,kBAAkB,SAAS,UAAU,KAC3C,aAAa,MAAM,aAAa,QAChC;AACA,UAAM,IACJ,aAAa,MAAM,aAAa,SAAS,MAAM,kBAAkB;AAAA,EACrE;AAEA,MAAI,MAAM,kBAAkB,OAAO,UAAU,KAAK,aAAa,MAAM;AACnE,UAAM,IAAI,aAAa,OAAO,MAAM,kBAAkB;AAAA,EACxD,WACE,MAAM,kBAAkB,QAAQ,UAAU,KAC1C,aAAa,OAAO,aAAa,OACjC;AACA,UAAM,IACJ,aAAa,OAAO,aAAa,QAAQ,MAAM,kBAAkB;AAAA,EACrE;AAEA,SAAO;AACT;;;AChCA;AAAA,EACE,gBAAAA;AAAA,EACA,YAAAC;AAAA,OAKK;AAMA,IAAM,gBAAN,MAAM,sBAAqBA,UAGhC;AAAA,EACA,MAAM,EAAC,UAAS,GAAkB;AAjBpC;AAkBI,UAAM,EAAC,OAAO,GAAE,KAAI,UAAK,YAAL,YAAgB,CAAC;AACrC,UAAM,IAAI,OAAO,SAAS,WAAW,OAAO,KAAK;AACjD,UAAM,IAAI,OAAO,SAAS,WAAW,OAAO,KAAK;AAEjD,WAAO,iCACF,YADE;AAAA,MAEL,GAAG,KAAK,KAAK,UAAU,IAAI,CAAC,IAAI;AAAA,MAChC,GAAG,KAAK,KAAK,UAAU,IAAI,CAAC,IAAI;AAAA,IAClC;AAAA,EACF;AAGF;AAjBa,cAgBJ,YAAYD,cAAa,aAAY;AAhBvC,IAAM,eAAN","sourcesContent":["import {\n  configurator,\n  Modifier,\n  type DragOperation,\n  type DragDropManager,\n  type Draggable,\n  type Droppable,\n} from '@dnd-kit/abstract';\n\ninterface Options {\n  axis: 'x' | 'y';\n  value: number;\n}\n\nexport class AxisModifier extends Modifier<\n  DragDropManager<Draggable, Droppable>,\n  Options\n> {\n  apply({transform}: DragOperation) {\n    if (!this.options) {\n      return transform;\n    }\n\n    const {axis, value} = this.options;\n\n    return {\n      ...transform,\n      [axis]: value,\n    };\n  }\n\n  static configure = configurator(AxisModifier);\n}\n\nexport const RestrictToVerticalAxis = AxisModifier.configure({\n  axis: 'x',\n  value: 0,\n});\n\nexport const RestrictToHorizontalAxis = AxisModifier.configure({\n  axis: 'y',\n  value: 0,\n});\n","import type {BoundingRectangle, Coordinates, Shape} from '@dnd-kit/geometry';\n\nexport function restrictShapeToBoundingRectangle(\n  shape: Shape,\n  transform: Coordinates,\n  boundingRect: BoundingRectangle\n) {\n  const value = {\n    ...transform,\n  };\n\n  if (shape.boundingRectangle.top + transform.y <= boundingRect.top) {\n    value.y = boundingRect.top - shape.boundingRectangle.top;\n  } else if (\n    shape.boundingRectangle.bottom + transform.y >=\n    boundingRect.top + boundingRect.height\n  ) {\n    value.y =\n      boundingRect.top + boundingRect.height - shape.boundingRectangle.bottom;\n  }\n\n  if (shape.boundingRectangle.left + transform.x <= boundingRect.left) {\n    value.x = boundingRect.left - shape.boundingRectangle.left;\n  } else if (\n    shape.boundingRectangle.right + transform.x >=\n    boundingRect.left + boundingRect.width\n  ) {\n    value.x =\n      boundingRect.left + boundingRect.width - shape.boundingRectangle.right;\n  }\n\n  return value;\n}\n","import {\n  configurator,\n  Modifier,\n  type DragOperation,\n  type DragDropManager,\n  type Draggable,\n  type Droppable,\n} from '@dnd-kit/abstract';\n\ninterface Options {\n  size: number | {x: number; y: number};\n}\n\nexport class SnapModifier extends Modifier<\n  DragDropManager<Draggable, Droppable>,\n  Options\n> {\n  apply({transform}: DragOperation) {\n    const {size = 20} = this.options ?? {};\n    const x = typeof size === 'number' ? size : size.x;\n    const y = typeof size === 'number' ? size : size.y;\n\n    return {\n      ...transform,\n      x: Math.ceil(transform.x / x) * x,\n      y: Math.ceil(transform.y / y) * y,\n    };\n  }\n\n  static configure = configurator(SnapModifier);\n}\n"]}