{"version":3,"file":"interface.js","sources":["../../src/components/form/interface.ts"],"sourcesContent":["/* eslint-disable one-var */\n/* eslint-disable react/prefer-stateless-function, max-len */\nimport { Subtract } from 'utility-types';\nimport type { RuleItem } from 'async-validator';\nimport { Options as ScrollIntoViewOptions } from 'scroll-into-view-if-needed';\n\nimport type { BaseFormApi as FormApi, FormState, WithFieldOption, AllErrors, FieldValidateTriggerType } from '@douyinfe/semi-foundation/form/interface';\nimport type { SelectProps } from '../select/index';\nimport Option from '../select/option';\nimport OptGroup from '../select/optionGroup';\nimport type { CheckboxProps } from '../checkbox/index';\nimport type { RadioProps } from '../radio/index';\n\nimport type { ErrorMessageProps, ReactFieldError as FieldError } from './errorMessage';\nimport type { LabelProps } from './label';\nimport type {VueJsxNode} from \"../interface\";\nimport type {CSSProperties, DefineComponent, VNode} from \"vue\";\nimport type {AriaAttributes} from \"../AriaAttributes\";\n\nexport type { FormState, FormApi, WithFieldOption, RuleItem };\n\nexport type CommonFieldProps = {\n    id?: string\n    className?: string\n    prefix?: string\n    /** Field is required (except Form. Checkbox within the Group, Form. Radio) */\n    field: string;\n    /** The label text of the form control is the same name as the field by default when it is not passed */\n    label?: LabelProps | VueJsxNode;\n    labelPosition?: 'top' | 'left' | 'inset';\n    labelAlign?: 'left' | 'right';\n    labelWidth?: number | string;\n    noLabel?: boolean;\n    noErrorMessage?: boolean;\n    name?: string;\n    fieldClassName?: string;\n    fieldStyle?: CSSProperties;\n    initValue?: any;\n    validate?: (fieldValue: any, values: Record<string, any>) => string | Promise<string> | VNode;\n    /** Check rules, check library based on async-validator */\n    rules?: Array<RuleItem>;\n    /** Check trigger timing */\n    trigger?: 'blur' | 'change' | 'custom' | 'mount' | Array<string>;\n    // onChange: (fieldValue: any) => void;\n    /** Converts form control values before validation */\n    transform?: (fieldValue: any) => any;\n    /** Make a second change to the component's value before the UI update */\n    convert?: (fieldValue: any) => any;\n    allowEmptyString?: boolean;\n    /** When true, use rules verification, after encountering the first rule that fails the test, the verification of subsequent rules will no longer be triggered */\n    stopValidateWithError?: boolean;\n    /* Custom prompt information is displayed in the same block as the verification information. When both have values, the verification information is displayed first */\n    helpText?: VueJsxNode;\n    /* Extra message, you can use this when you need an error message and the prompt text to appear at the same time, after helpText/errorMessage */\n    extraText?: VueJsxNode;\n    extraTextPosition?: 'middle' | 'bottom';\n    /** These declaration just hack for Subtract, not valid props in CommonFieldProps */\n    defaultValue?: any;\n    /** Whether to take over only the data stream, when true, it will not automatically insert modules such as ErrorMessage, Label, extraText, etc. The style and DOM structure are consistent with the original component */\n    pure?: boolean;\n};\n\nexport type CommonexcludeType = {\n    defaultValue?: any;\n    value?: any;\n    checked?: boolean;\n    defaultChecked?: boolean;\n};\n\nexport type RadioCheckboxExcludeProps = {\n    defaultValue?: any;\n    checked?: boolean;\n    defaultChecked?: boolean;\n    field: string;\n};\n\nexport type RCIncludeType = {\n    // Need to take into account the use of Form. Checkbox, Form. Radio and Group scenarios\n    field?: string;\n};\n\nexport const FormSelect = {\n    Option,\n    OptGroup\n}\n\n\nexport interface SelectStatic {\n    Option: typeof Option;\n    OptGroup: typeof OptGroup;\n}\n\nexport type Field<P> = Subtract<P & CommonFieldProps, CommonexcludeType>\nexport let FormSelectType: DefineComponent<Subtract<SelectProps & CommonFieldProps, CommonexcludeType>& SelectStatic>;\nexport let FormCheckboxType: DefineComponent<Subtract<CommonFieldProps, RadioCheckboxExcludeProps> & CheckboxProps & RCIncludeType>;\nexport let FormRadioType: DefineComponent<Subtract<CommonFieldProps, RadioCheckboxExcludeProps> & RadioProps & RCIncludeType>;\n\nexport interface ErrorMsg {\n    [optionalKey: string]: FieldError;\n}\nexport interface FormFCChild<K extends Record<string, any> = any> {\n    formState: FormState<K>;\n    values: K;\n    formApi: FormApi<K>;\n}\n\ninterface setValuesConfig {\n    isOverride: boolean;\n}\n\nexport interface BaseFormProps <Values extends Record<string, any> = any> {\n    'aria-label'?: AriaAttributes['aria-label'];\n    onSubmit?: (values: Values, e?: any) => void;\n    onSubmitFail?: (errors: Record<keyof Values, FieldError>, values: Partial<Values>, e?: any) => void;\n    onReset?: () => void;\n    onValueChange?: (values: Values, changedValue: Partial<Values>) => void;\n    onErrorChange?: (errors: Record<keyof Values, FieldError>, changedError?: Partial<Record<keyof Values, FieldError>>) => void;\n    onChange?: (formState: FormState) => void;\n    allowEmpty?: boolean;\n    validateFields?: (values: Values) => string | Partial<AllErrors<Values>>;\n    /** Use this if you want to populate the form with initial values. */\n    initValues?: Values;\n    id?: string;\n    /** getFormApi will be call once when Form mounted, u can save formApi reference in your component  */\n    getFormApi?: (formApi: FormApi<Values>) => void;\n    style?: CSSProperties;\n    className?: string;\n    extraTextPosition?: 'middle' | 'bottom';\n    layout?: 'horizontal' | 'vertical';\n    labelPosition?: 'top' | 'left' | 'inset';\n    labelWidth?: number | string;\n    labelAlign?: 'left' | 'right';\n    labelCol?: Record<string, any>;\n    wrapperCol?: Record<string, any>;\n    render?: (internalProps: FormFCChild) => VueJsxNode;\n    component?: VNode | string;\n    autoScrollToError?: boolean | ScrollIntoViewOptions;\n    disabled?: boolean;\n    showValidateIcon?: boolean;\n    stopValidateWithError?: boolean;\n    stopPropagation?: {\n        submit?: boolean;\n        reset?: boolean\n    };\n    trigger?: FieldValidateTriggerType\n}\n"],"names":["FormSelect","Option","OptGroup","FormSelectType","FormCheckboxType","FormRadioType"],"mappings":";;AAiFO,MAAMA,IAAa;AAAA,EACtB,QAAAC;AAAA,EACA,UAAAC;AACJ;AASW,IAAAC,GACAC,GACAC;"}