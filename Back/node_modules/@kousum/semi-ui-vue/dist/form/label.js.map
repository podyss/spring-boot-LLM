{"version":3,"file":"label.js","sources":["../../src/components/form/label.tsx"],"sourcesContent":["import { defineComponent, ref, h, CSSProperties, VNode, Fragment, PropType } from 'vue';\nimport classNames from 'classnames';\nimport * as PropTypes from '../PropTypes';\nimport { cssClasses } from '@douyinfe/semi-foundation/form/constants';\nimport { LocaleConsumerFunc } from '../locale/localeConsumer';\nimport { Locale } from '../locale/interface';\nimport { vuePropsMake } from '../PropTypes';\nimport { ComponentObjectPropsOptions } from 'vue';\nimport { styleNum } from '../_utils';\nimport { CombineProps } from '../interface';\n\nconst LocaleConsumer = LocaleConsumerFunc<Locale['Form']>();\nconst prefixCls = cssClasses.PREFIX;\n\nexport interface LabelProps {\n  id?: string;\n  /** Whether to display the required * symbol */\n  required?: boolean;\n  /** Content of label */\n  text?: any;\n  disabled?: boolean;\n  /** Used to configure the htmlFor attribute of the label tag */\n  name?: string;\n  /** text-align of label */\n  align?: string;\n  /** width of label */\n  width?: number | string;\n  style?: CSSProperties;\n  className?: string;\n  extra?: VNode;\n\n  optional?: boolean;\n}\n\nconst propTypes: CombineProps<LabelProps> = {\n  id: PropTypes.string,\n  required: PropTypes.bool,\n  text: PropTypes.node,\n  disabled: PropTypes.bool,\n  name: PropTypes.string,\n  align: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  style: PropTypes.object,\n  className: PropTypes.string,\n  extra: PropTypes.node as PropType<any>,\n  optional: PropTypes.bool,\n};\nconst defaultProps = {\n  required: false,\n  name: '',\n  align: 'left',\n  className: '',\n  optional: false,\n};\nexport const VuePropsType = vuePropsMake<LabelProps>(propTypes, defaultProps);\nconst Label = defineComponent({\n  props: VuePropsType,\n  name: 'Label',\n  setup(props, { slots }) {\n    return () => {\n      const children = slots.default ? slots.default() : null;\n      const { required, text, disabled, name, width, align, style, className, extra, id, optional } = props;\n\n      const labelCls = classNames(className, {\n        [`${prefixCls}-field-label`]: true,\n        [`${prefixCls}-field-label-left`]: align === 'left',\n        [`${prefixCls}-field-label-right`]: align === 'right',\n        [`${prefixCls}-field-label-required`]: required,\n        [`${prefixCls}-field-label-disabled`]: disabled,\n        [`${prefixCls}-field-label-with-extra`]: extra,\n      });\n      const labelStyle = style ? style : {};\n      width ? (labelStyle.width = styleNum(width)) : null;\n\n      const optionalText = (\n        <LocaleConsumer componentName=\"Form\">\n          {{\n            default: (locale: Locale['Form']) => {\n              return <span class={`${prefixCls}-field-label-optional-text`}>{locale.optional}</span>;\n            },\n          }}\n        </LocaleConsumer>\n      );\n\n      const textContent = (\n        <div class={`${prefixCls}-field-label-text`} x-semi-prop=\"label\">\n          {typeof text !== 'undefined' ? text : children}\n          {optional ? optionalText : null}\n        </div>\n      );\n\n      const contentWithExtra = (\n        <>\n          {textContent}\n          <div class={`${prefixCls}-field-label-extra`}>{extra}</div>\n        </>\n      );\n\n      return (\n        <label class={labelCls} for={name} style={labelStyle} id={id}>\n          {extra ? contentWithExtra : textContent}\n        </label>\n      );\n    };\n  },\n});\n\nexport default Label;\n"],"names":["LocaleConsumer","LocaleConsumerFunc","prefixCls","cssClasses","PREFIX","propTypes","id","PropTypes","string","required","bool","text","node","disabled","name","align","width","oneOfType","number","style","object","className","extra","optional","defaultProps","VuePropsType","vuePropsMake","Label","defineComponent","props","setup","slots","children","default","labelCls","classNames","labelStyle","styleNum","optionalText","_createVNode","locale","textContent","contentWithExtra","_Fragment"],"mappings":";;;;;;;AAWA,MAAMA,IAAiBC,EAAkB,GACnCC,IAAYC,EAAWC,QAsBvBC,IAAsC;AAAA,EAC1CC,IAAIC,EAAUC;AAAAA,EACdC,UAAUF,EAAUG;AAAAA,EACpBC,MAAMJ,EAAUK;AAAAA,EAChBC,UAAUN,EAAUG;AAAAA,EACpBI,MAAMP,EAAUC;AAAAA,EAChBO,OAAOR,EAAUC;AAAAA,EACjBQ,OAAOT,EAAUU,UAAU,CAACV,EAAUW,QAAQX,EAAUC,MAAM,CAAC;AAAA,EAC/DW,OAAOZ,EAAUa;AAAAA,EACjBC,WAAWd,EAAUC;AAAAA,EACrBc,OAAOf,EAAUK;AAAAA,EACjBW,UAAUhB,EAAUG;AACtB,GACMc,IAAe;AAAA,EACnBf,UAAU;AAAA,EACVK,MAAM;AAAA,EACNC,OAAO;AAAA,EACPM,WAAW;AAAA,EACXE,UAAU;AACZ,GACaE,IAAeC,EAAyBrB,GAAWmB,CAAY,GACtEG,IAAQC,gBAAAA,EAAgB;AAAA,EAC5BC,OAAOJ;AAAAA,EACPX,MAAM;AAAA,EACNgB,MAAMD,GAAO;AAAA,IAAEE,OAAAA;AAAAA,EAAM,GAAG;AACtB,WAAO,MAAM;AACX,YAAMC,IAAWD,EAAME,UAAUF,EAAME,QAAS,IAAG,MAC7C;AAAA,QAAExB,UAAAA;AAAAA,QAAUE,MAAAA;AAAAA,QAAME,UAAAA;AAAAA,QAAUC,MAAAA;AAAAA,QAAME,OAAAA;AAAAA,QAAOD,OAAAA;AAAAA,QAAOI,OAAAA;AAAAA,QAAOE,WAAAA;AAAAA,QAAWC,OAAAA;AAAAA,QAAOhB,IAAAA;AAAAA,QAAIiB,UAAAA;AAAAA,MAAU,IAAGM,GAE1FK,IAAWC,EAAWd,GAAW;AAAA,QACrC,CAAC,GAAGnB,CAAS,cAAc,GAAG;AAAA,QAC9B,CAAC,GAAGA,CAAS,mBAAmB,GAAGa,MAAU;AAAA,QAC7C,CAAC,GAAGb,CAAS,oBAAoB,GAAGa,MAAU;AAAA,QAC9C,CAAC,GAAGb,CAAS,uBAAuB,GAAGO;AAAAA,QACvC,CAAC,GAAGP,CAAS,uBAAuB,GAAGW;AAAAA,QACvC,CAAC,GAAGX,CAAS,yBAAyB,GAAGoB;AAAAA,MAC3C,CAAC,GACKc,IAAajB,KAAgB;AACnCH,MAAAA,MAASoB,EAAWpB,QAAQqB,EAASrB,CAAK;AAE1C,YAAMsB,IAAYC,EAAAvC,GAAA;AAAA,QAAA,eAAA;AAAA,MAAA,GAAA;AAAA,QAGZiC,SAAUO,CAAAA,MACRD,EAAA,QAAA;AAAA,UAAA,OAAoB,GAAGrC,CAAS;AAAA,WAA+BsC,CAAAA,EAAOjB,QAAQ,CAAA;AAAA,OAIrF,GAEKkB,IAAWF,EAAA,OAAA;AAAA,QAAA,OACH,GAAGrC,CAAS;AAAA,QAAmB,eAAA;AAAA,MAAA,GAAA,CACxC,OAAOS,IAAS,MAAcA,IAAOqB,GACrCT,IAAWe,IAAe,IAAI,CAElC,GAEKI,IAAgBH,EAAAI,GAEjBF,MAAAA,CAAAA,GAAWF,EAAA,OAAA;AAAA,QAAA,OACA,GAAGrC,CAAS;AAAA,MAAoB,GAAA,CAAGoB,CAAK,CAEvD,CAAA,CAAA;AAED,aAAAiB,EAAA,SAAA;AAAA,QAAA,OACgBL;AAAAA,QAAQ,KAAOpB;AAAAA,QAAI,OAASsB;AAAAA,QAAU,IAAM9B;AAAAA,MAAE,GAAA,CACzDgB,IAAQoB,IAAmBD,CAAW,CAAA;AAAA;EAI/C;AACF,CAAC;"}