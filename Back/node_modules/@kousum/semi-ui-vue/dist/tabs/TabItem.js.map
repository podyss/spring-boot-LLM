{"version":3,"file":"TabItem.js","sources":["../../src/components/tabs/TabItem.tsx"],"sourcesContent":["import * as PropTypes from '../PropTypes';\nimport cls from 'classnames';\nimport { cssClasses } from '@douyinfe/semi-foundation/tabs/constants';\nimport { IconClose } from '@kousum/semi-icons-vue';\nimport { TabType, TabSize, TabPosition } from './interface';\nimport { ComponentObjectPropsOptions, computed, defineComponent, h, PropType, useSlots } from 'vue';\nimport { CombineProps, VueJsxNode } from '../interface';\nimport { vuePropsMake } from '../PropTypes';\n\nexport interface TabItemProps {\n  tab?: VueJsxNode | (()=>VueJsxNode);\n  icon?: VueJsxNode;\n  size?: TabSize;\n  type?: TabType;\n  tabPosition?: TabPosition;\n  selected?: boolean;\n  closable?: boolean;\n  disabled?: boolean;\n  itemKey?: string;\n  handleKeyDown?: (event: KeyboardEvent, itemKey: string, closable: boolean) => void;\n  deleteTabItem?: (tabKey: string, event: MouseEvent) => void;\n  onClick?: (itemKey: string, e: MouseEvent) => void;\n  forwardRef?: any;\n}\nconst propTypes: CombineProps<TabItemProps> = {\n  tab: [Function, ...PropTypes.node] as PropType<TabItemProps['tab']>,\n  icon: PropTypes.node,\n  size: PropTypes.string as PropType<TabItemProps['size']>,\n  type: PropTypes.string as PropType<TabItemProps['type']>,\n  tabPosition: PropTypes.string as PropType<TabItemProps['tabPosition']>,\n  selected: PropTypes.bool,\n  closable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  itemKey: PropTypes.string,\n  handleKeyDown: PropTypes.func as PropType<TabItemProps['handleKeyDown']>,\n  deleteTabItem: PropTypes.func as PropType<TabItemProps['deleteTabItem']>,\n  onClick: PropTypes.func as PropType<TabItemProps['onClick']>,\n  forwardRef: [PropTypes.object, PropTypes.func],\n};\nexport const vuePropsType = vuePropsMake(propTypes, {});\nconst TabItem = defineComponent({\n  props: { ...vuePropsType },\n  name: 'Tabs.TabItem',\n  setup(props, { attrs }) {\n    const slots = useSlots();\n\n    const closableIcon = computed(() => {\n      return props.closable ? (\n        <IconClose\n          aria-label=\"Close\"\n          role=\"button\"\n          className={`${cssClasses.TABS_TAB}-icon-close`}\n          onClick={(e: MouseEvent) => props.deleteTabItem(props.itemKey, e)}\n        />\n      ) : null;\n    });\n\n    const renderIcon = (icon: any) => <span>{icon}</span>;\n\n    const handleKeyDownInItem = (event: KeyboardEvent) => {\n      props.handleKeyDown && props.handleKeyDown(event, props.itemKey, props.closable);\n    };\n\n    const handleItemClick = (e: MouseEvent) => {\n      !props.disabled && props.onClick && props.onClick(props.itemKey, e);\n    };\n    return () => {\n      const {\n        tab,\n        size,\n        type,\n        icon,\n        selected,\n        closable,\n        disabled,\n        itemKey,\n        deleteTabItem,\n        tabPosition,\n        handleKeyDown,\n        onClick,\n        ...restProps\n      } = props;\n\n      const panelIcon = icon ? renderIcon(icon) : null;\n      const className = cls(\n        cssClasses.TABS_TAB,\n        `${cssClasses.TABS_TAB}-${type}`,\n        `${cssClasses.TABS_TAB}-${tabPosition}`,\n        `${cssClasses.TABS_TAB}-single`,\n\n        {\n          [cssClasses.TABS_TAB_ACTIVE]: selected,\n          [cssClasses.TABS_TAB_DISABLED]: disabled,\n          [`${cssClasses.TABS_TAB}-small`]: size === 'small',\n          [`${cssClasses.TABS_TAB}-medium`]: size === 'medium',\n        }\n      );\n      return (\n        <div\n          role=\"tab\"\n          id={`semiTab${itemKey}`}\n          data-tabkey={`semiTab${itemKey}`}\n          aria-controls={`semiTabPanel${itemKey}`}\n          aria-disabled={disabled ? 'true' : 'false'}\n          aria-selected={selected ? 'true' : 'false'}\n          tabindex={selected ? 0 : -1}\n          onKeydown={handleKeyDownInItem}\n          onClick={handleItemClick}\n          class={className}\n          {...restProps}\n          ref={props.forwardRef}\n        >\n          {panelIcon}\n          {typeof tab === 'function'?tab():tab}\n          {closableIcon.value}\n        </div>\n      );\n    };\n  },\n});\n\nexport default TabItem;\n"],"names":["propTypes","tab","Function","PropTypes","node","icon","size","string","type","tabPosition","selected","bool","closable","disabled","itemKey","handleKeyDown","func","deleteTabItem","onClick","forwardRef","object","vuePropsType","vuePropsMake","TabItem","defineComponent","props","name","setup","attrs","useSlots","closableIcon","computed","_createVNode","IconClose","cssClasses","TABS_TAB","e","renderIcon","handleKeyDownInItem","event","handleItemClick","restProps","panelIcon","className","cls","TABS_TAB_ACTIVE","TABS_TAB_DISABLED","_mergeProps","value"],"mappings":"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"}