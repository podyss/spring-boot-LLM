{"version":3,"file":"item.js","sources":["../../src/components/list/item.tsx"],"sourcesContent":["import cls from 'classnames';\nimport * as PropTypes from '../PropTypes';\nimport { cssClasses, strings } from '@douyinfe/semi-foundation/list/constants';\nimport { noop } from 'lodash';\nimport { Col } from '../grid';\nimport {\n  ComponentObjectPropsOptions,\n  CSSProperties,\n  defineComponent,\n  h,\n  PropType,\n  useAttrs,\n  useSlots,\n  VNode,\n} from 'vue';\nimport { vuePropsMake } from '../PropTypes';\nimport { useListContext } from './context/Consumer';\nimport { CombineProps, VueJsxNode } from '../interface';\nimport getDataAttr from '@douyinfe/semi-foundation/utils/getDataAttr';\n\nexport interface ListItemProps {\n  extra?: VueJsxNode;\n  header?: VueJsxNode;\n  main?: VueJsxNode;\n  align?: 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n  className?: string;\n  style?: CSSProperties;\n  onClick?: (e: MouseEvent) => void;\n  onRightClick?: (e: MouseEvent) => void;\n  onMouseLeave?: (e: MouseEvent) => void;\n  onMouseEnter?: (e: MouseEvent) => void;\n}\n\nconst prefixCls = cssClasses.PREFIX;\nconst propTypes: CombineProps<ListItemProps> = {\n  extra: PropTypes.node as PropType<ListItemProps['extra']>,\n  header: PropTypes.node,\n  main: PropTypes.node,\n  align: PropTypes.string as PropType<ListItemProps['align']>,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  onClick: PropTypes.func as PropType<ListItemProps['onClick']>,\n  onRightClick: PropTypes.func as PropType<ListItemProps['onRightClick']>,\n  onMouseEnter: PropTypes.func as PropType<ListItemProps['onMouseEnter']>,\n  onMouseLeave: PropTypes.func as PropType<ListItemProps['onMouseLeave']>,\n};\n\nconst defaultProps = {\n  align: 'flex-start',\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n};\nexport const vuePropsType = vuePropsMake<ListItemProps>(propTypes, defaultProps);\nconst ListItem = defineComponent({\n  props: { ...vuePropsType },\n  name: 'ListItem',\n  setup(props, {}) {\n    const slots = useSlots();\n    const attr = useAttrs();\n\n    const { context } = useListContext();\n\n    function wrapWithGrid(content: VNode) {\n      const { grid } = context.value;\n      const { gutter, justify, type, align, ...rest } = grid;\n      return <Col {...rest}>{content}</Col>;\n    }\n    return () => {\n      const children = slots.default?.();\n\n      const {\n        header,\n        main,\n        className,\n        style,\n        extra,\n        align,\n        onClick,\n        onRightClick,\n        onMouseEnter,\n        onMouseLeave,\n        ...rest\n      } = props;\n      const { onRightClick: contextOnRightClick, onClick: contextOnClick, grid: contextGrid } = context.value;\n      const handleContextMenu = onRightClick ? onRightClick : contextOnRightClick;\n      const handleClick = onClick ? onClick : contextOnClick;\n      const itemCls = cls(`${prefixCls}-item`, className);\n      const bodyCls = cls(`${prefixCls}-item-body`, {\n        [`${prefixCls}-item-body-${align}`]: align,\n      });\n      let body;\n      if (header || main) {\n        body = (\n          <div class={bodyCls}>\n            {header ? <div class={`${prefixCls}-item-body-header`}>{header}</div> : null}\n            {main ? <div class={`${prefixCls}-item-body-main`}>{main}</div> : null}\n          </div>\n        );\n      }\n      let content = (\n        // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-noninteractive-element-interactions\n        <li\n          class={itemCls}\n          style={style}\n          onClick={handleClick}\n          onContextmenu={handleContextMenu}\n          onMouseenter={onMouseEnter}\n          onMouseleave={onMouseLeave}\n          {...getDataAttr({ ...rest, ...attr })}\n        >\n          {body ? body : null}\n          {children}\n          {extra ? <div class={`${prefixCls}-item-extra`}>{extra}</div> : null}\n        </li>\n      );\n\n      if (context.value && contextGrid) {\n        content = wrapWithGrid(content);\n      }\n\n      return content;\n    };\n  },\n});\n\nexport default ListItem;\n"],"names":["_isSlot","s","Object","prototype","toString","call","_isVNode","prefixCls","cssClasses","PREFIX","propTypes","extra","PropTypes","node","header","main","align","string","className","style","object","onClick","func","onRightClick","onMouseEnter","onMouseLeave","defaultProps","noop","vuePropsType","vuePropsMake","ListItem","defineComponent","props","name","setup","slots","useSlots","attr","useAttrs","context","useListContext","wrapWithGrid","content","grid","value","gutter","justify","type","rest","_createVNode","Col","default","children","contextOnRightClick","contextOnClick","contextGrid","handleContextMenu","handleClick","itemCls","cls","bodyCls","body","_mergeProps","getDataAttr"],"mappings":"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"}