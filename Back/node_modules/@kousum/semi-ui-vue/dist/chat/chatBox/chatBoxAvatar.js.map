{"version":3,"file":"chatBoxAvatar.js","sources":["../../../src/components/chat/chatBox/chatBoxAvatar.tsx"],"sourcesContent":["import { defineComponent, ref, h, Fragment, useSlots, VNode, PropType } from 'vue';\nimport { CombineProps } from '../../interface';\nimport Avatar from '../../avatar';\nimport type { Message, Metadata, RenderAvatarProps } from '../interface';\nimport { cssClasses } from '@douyinfe/semi-foundation/chat/constants';\nimport cls from 'classnames';\n\nconst { PREFIX_CHAT_BOX } = cssClasses;\n\ninterface ChatBoxAvatarProps {\n  // children?: string;\n  role?: Metadata;\n  continueSend?: boolean;\n  message?: Message;\n  customRenderFunc?: (props: RenderAvatarProps) => VNode;\n}\n\nexport const vuePropsType: CombineProps<ChatBoxAvatarProps> = {\n  role: Object,\n  continueSend: Boolean,\n  message: Object,\n  customRenderFunc: Function as PropType<ChatBoxAvatarProps['customRenderFunc']>,\n};\nconst chatBoxAvatar = defineComponent({\n  props: { ...vuePropsType },\n  name: 'chatBoxAvatar',\n  setup(props, { attrs }) {\n    const slots = useSlots();\n\n    return () => {\n      const { avatar, color } = props.role;\n      const node = (\n        <Avatar\n          className={cls(`${PREFIX_CHAT_BOX}-avatar`, {\n            [`${PREFIX_CHAT_BOX}-avatar-hidden`]: props.continueSend,\n          })}\n          src={avatar}\n          size=\"extra-small\"\n        ></Avatar>\n      );\n      if (props.customRenderFunc && typeof props.customRenderFunc === 'function') {\n        return props.customRenderFunc({\n          role: props.role,\n          defaultAvatar: node,\n          message: props.message\n        });\n      }\n      return node;\n    };\n  },\n});\n\nexport default chatBoxAvatar;\n"],"names":["PREFIX_CHAT_BOX","cssClasses","vuePropsType","role","Object","continueSend","Boolean","message","customRenderFunc","Function","chatBoxAvatar","defineComponent","props","name","setup","attrs","useSlots","avatar","color","node","_createVNode","Avatar","cls","defaultAvatar"],"mappings":";;;;AAOA,MAAM;AAAA,EAAEA,iBAAAA;AAAgB,IAAIC,GAUfC,IAAiD;AAAA,EAC5DC,MAAMC;AAAAA,EACNC,cAAcC;AAAAA,EACdC,SAASH;AAAAA,EACTI,kBAAkBC;AACpB,GACMC,IAAgBC,gBAAAA,EAAgB;AAAA,EACpCC,OAAO;AAAA,IAAE,GAAGV;AAAAA,EAAc;AAAA,EAC1BW,MAAM;AAAA,EACNC,MAAMF,GAAO;AAAA,IAAEG,OAAAA;AAAAA,EAAM,GAAG;AACRC,WAAAA,EAAU,GAEjB,MAAM;AACX,YAAM;AAAA,QAAEC,QAAAA;AAAAA,QAAQC,OAAAA;AAAAA,UAAUN,EAAMT,MAC1BgB,IAAIC,EAAAC,GAAA;AAAA,QAAA,WAEKC,EAAI,GAAGtB,CAAe,WAAW;AAAA,UAC1C,CAAC,GAAGA,CAAe,gBAAgB,GAAGY,EAAMP;AAAAA,QAC9C,CAAC;AAAA,QAAC,KACGY;AAAAA,QAAM,MAAA;AAAA,MAGd,GAAA,IAAA;AACD,aAAIL,EAAMJ,oBAAoB,OAAOI,EAAMJ,oBAAqB,aACvDI,EAAMJ,iBAAiB;AAAA,QAC5BL,MAAMS,EAAMT;AAAAA,QACZoB,eAAeJ;AAAAA,QACfZ,SAASK,EAAML;AAAAA,MACjB,CAAC,IAEIY;AAAAA;EAEX;AACF,CAAC;"}