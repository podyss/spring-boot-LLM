{"version":3,"file":"chatContent.js","sources":["../../src/components/chat/chatContent.tsx"],"sourcesContent":["import Divider from '../divider';\nimport ChatBox from './chatBox';\nimport { cssClasses, strings } from '@douyinfe/semi-foundation/chat/constants';\nimport { Locale } from '../locale/interface';\n\nimport { defineComponent, Fragment, PropType } from 'vue';\nimport { LocaleConsumerFunc } from '../locale/localeConsumer';\nimport { chatContentVuePropsType } from './chatBox/chatPropsType';\nimport Toast from '../toast';\nconst LocaleConsumer = LocaleConsumerFunc<Locale['Chat']>();\n\nconst { PREFIX_DIVIDER, PREFIX } = cssClasses;\nconst { ROLE } = strings;\n\n\nconst ChatContent = defineComponent({\n  props: {...chatContentVuePropsType},\n  name: 'ChatContent',\n  setup(props) {\n    const [toast, contextHolder] = Toast.useToast();\n    return () => {\n      const {\n        chats,\n        onMessageBadFeedback,\n        onMessageCopy,\n        mode,\n        onChatsChange,\n        onMessageDelete,\n        onMessageGoodFeedback,\n        onMessageReset,\n        roleConfig,\n        chatBoxRenderConfig,\n        align,\n        customMarkDownComponents, renderDivider,\n      } = props;\n      return (\n        <Fragment>\n          {chats.map((item, index) => {\n            const lastMessage = index === chats.length - 1;\n            return item.role === ROLE.DIVIDER ? (\n              renderDivider ? renderDivider(item) : <Divider key={item.id} className={PREFIX_DIVIDER}>\n                <LocaleConsumer componentName=\"Chat\">\n                  {(locale: Locale['Chat']) => locale['clearContext']}\n                </LocaleConsumer>\n              </Divider>\n            ) : (\n              <ChatBox\n                previousMessage={index ? chats[index - 1] : undefined}\n                toast={toast}\n                align={align}\n                mode={mode}\n                key={item.id}\n                message={item}\n                roleConfig={roleConfig}\n                onMessageBadFeedback={onMessageBadFeedback}\n                onMessageCopy={onMessageCopy}\n                onChatsChange={onChatsChange}\n                onMessageDelete={onMessageDelete}\n                onMessageGoodFeedback={onMessageGoodFeedback}\n                onMessageReset={onMessageReset}\n                lastChat={lastMessage}\n                customMarkDownComponents={customMarkDownComponents}\n                chatBoxRenderConfig={chatBoxRenderConfig}\n              />\n            );\n          })}\n          <div class={`${PREFIX}-toast`}>{contextHolder.value as any}</div>\n        </Fragment>\n      );\n    };\n  },\n});\n\nexport default ChatContent;\n"],"names":["LocaleConsumer","LocaleConsumerFunc","PREFIX_DIVIDER","PREFIX","cssClasses","ROLE","strings","ChatContent","defineComponent","props","chatContentVuePropsType","name","setup","toast","contextHolder","Toast","useToast","chats","onMessageBadFeedback","onMessageCopy","mode","onChatsChange","onMessageDelete","onMessageGoodFeedback","onMessageReset","roleConfig","chatBoxRenderConfig","align","customMarkDownComponents","renderDivider","_createVNode","_Fragment","map","item","index","lastMessage","length","role","DIVIDER","Divider","id","default","locale","ChatBox","undefined","value"],"mappings":";;;;;;;AASA,MAAMA,IAAiBC,EAAkB,GAEnC;AAAA,EAAEC,gBAAAA;AAAAA,EAAgBC,QAAAA;AAAO,IAAIC,GAC7B;AAAA,EAAEC,MAAAA;AAAK,IAAIC,GAGXC,IAAcC,gBAAAA,EAAgB;AAAA,EAClCC,OAAO;AAAA,IAAC,GAAGC;AAAAA,EAAwB;AAAA,EACnCC,MAAM;AAAA,EACNC,MAAMH,GAAO;AACX,UAAM,CAACI,GAAOC,CAAa,IAAIC,EAAMC,SAAQ;AAC7C,WAAO,MAAM;AACX,YAAM;AAAA,QACJC,OAAAA;AAAAA,QACAC,sBAAAA;AAAAA,QACAC,eAAAA;AAAAA,QACAC,MAAAA;AAAAA,QACAC,eAAAA;AAAAA,QACAC,iBAAAA;AAAAA,QACAC,uBAAAA;AAAAA,QACAC,gBAAAA;AAAAA,QACAC,YAAAA;AAAAA,QACAC,qBAAAA;AAAAA,QACAC,OAAAA;AAAAA,QACAC,0BAAAA;AAAAA,QAA0BC,eAAAA;AAAAA,MAC3B,IAAGpB;AACJ,aAAAqB,EAAAC,GAAA,MAAA,CAEKd,EAAMe,IAAI,CAACC,GAAMC,MAAU;AAC1B,cAAMC,IAAcD,MAAUjB,EAAMmB,SAAS;AAC7C,eAAOH,EAAKI,SAAShC,EAAKiC,UACxBT,IAAgBA,EAAcI,CAAI,IAACH,EAAAS,GAAA;AAAA,UAAA,KAAiBN,EAAKO;AAAAA,UAAE,WAAatC;AAAAA,QAAc,GAAA;AAAA,UAAAuC,SAAAA,MAAAX,CAAAA,EAAA9B,GAAA;AAAA,YAAA,eAAA;AAAA,UAAA,GAAA;AAAA,YAAAyC,SAEhFC,CAAAA,MAA2BA,EAAO;AAAA,UAAe,CAAA,CAAA;AAAA,SAE7C,IAAAZ,EAAAa,GAAA;AAAA,UAAA,iBAGST,IAAQjB,EAAMiB,IAAQ,CAAC,IAAIU;AAAAA,UAAS,OAC9C/B;AAAAA,UAAK,OACLc;AAAAA,UAAK,MACNP;AAAAA,UAAI,KACLa,EAAKO;AAAAA,UAAE,SACHP;AAAAA,UAAI,YACDR;AAAAA,UAAU,sBACAP;AAAAA,UAAoB,eAC3BC;AAAAA,UAAa,eACbE;AAAAA,UAAa,iBACXC;AAAAA,UAAe,uBACTC;AAAAA,UAAqB,gBAC5BC;AAAAA,UAAc,UACpBW;AAAAA,UAAW,0BACKP;AAAAA,UAAwB,qBAC7BF;AAAAA,QAExB,GAAA,IAAA;AAAA,OACF,GAACI,EAAA,OAAA;AAAA,QAAA,OACU,GAAG3B,CAAM;AAAA,MAAWW,GAAAA,CAAAA,EAAc+B,KAAK,CAAA,CAAA,CAAA;AAAA;EAI3D;AACF,CAAC;"}