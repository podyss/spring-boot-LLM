{"version":3,"file":"resizeItem.js","sources":["../../../src/components/resizable/group/resizeItem.tsx"],"sourcesContent":["import classNames from 'classnames';\nimport * as PropTypes from '../../PropTypes';\nimport { ResizeItemFoundation, ResizeItemAdapter } from '@douyinfe/semi-foundation/resizable/foundation';\nimport { cssClasses } from '@douyinfe/semi-foundation/resizable/constants';\nimport { ResizeCallback, ResizeStartCallback } from '@douyinfe/semi-foundation/resizable/singleConstants';\nimport { ResizeContext, ResizeContextProps } from './resizeContext';\nimport { noop } from 'lodash';\nimport { CSSProperties, defineComponent, h, onMounted, onUnmounted, PropType, reactive, ref, useSlots } from 'vue';\nimport { CombineProps } from '../../interface';\nimport { vuePropsMake } from '../../PropTypes';\nimport { useResizeContext } from './context/Consumer';\nimport { useBaseComponent } from '../../_base/baseComponent';\n\nconst prefixCls = cssClasses.PREFIX;\n\nexport interface ResizeItemProps {\n  style?: CSSProperties;\n  className?: string;\n  min?: string;\n  max?: string;\n  onResizeStart?: ResizeStartCallback;\n  onChange?: ResizeCallback;\n  onResizeEnd?: ResizeCallback;\n  defaultSize?: string | number;\n}\n\nexport interface ResizeItemState {}\nconst propTypes: CombineProps<ResizeItemProps> = {\n  style: PropTypes.object,\n  className: PropTypes.string,\n  min: PropTypes.string,\n  max: PropTypes.string,\n  onResizeStart: PropTypes.func as PropType<ResizeItemProps['onResizeStart']>,\n  onChange: PropTypes.func as PropType<ResizeItemProps['onChange']>,\n  onResizeEnd: PropTypes.func as PropType<ResizeItemProps['onResizeEnd']>,\n  defaultSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nconst defaultProps: Partial<ResizeItemProps> = {\n  onResizeStart: noop,\n  onChange: noop,\n  onResizeEnd: noop,\n};\nexport const vuePropsType = vuePropsMake(propTypes, defaultProps);\n\nconst ResizeItem = defineComponent({\n  props: { ...vuePropsType },\n  name: 'ResizeItem',\n  setup(props, { attrs }) {\n    const slots = useSlots();\n    const itemRef = ref();\n    const state = reactive({\n      isResizing: false,\n    });\n    const context = useResizeContext();\n    const { adapter: adapterInject, getDataAttr } = useBaseComponent(props, state);\n    function adapter_(): ResizeItemAdapter<ResizeItemProps, ResizeItemState> {\n      return {\n        ...adapterInject(),\n      };\n    }\n    const adapter = adapter_();\n    const foundation = new ResizeItemFoundation(adapter);\n    let itemIndex: number;\n    onMounted(() => {\n      foundation.init();\n      const { min, max, onResizeStart, onChange, onResizeEnd, defaultSize } = props;\n      itemIndex = context.value.registerItem(itemRef, min, max, defaultSize, onResizeStart, onChange, onResizeEnd);\n    });\n\n    onUnmounted(() => {\n      foundation.destroy();\n    });\n\n    return () => {\n      const style: CSSProperties = {\n        ...props.style,\n      };\n\n      return (\n        <div style={style} class={classNames(props.className, prefixCls + '-item')} ref={itemRef}>\n          {slots.default?.()}\n        </div>\n      );\n    };\n  },\n});\n\nexport default ResizeItem;\n"],"names":["prefixCls","cssClasses","PREFIX","propTypes","style","PropTypes","object","className","string","min","max","onResizeStart","func","onChange","onResizeEnd","defaultSize","oneOfType","number","defaultProps","noop","vuePropsType","vuePropsMake","ResizeItem","defineComponent","props","name","setup","attrs","slots","useSlots","itemRef","ref","state","reactive","isResizing","context","useResizeContext","adapter","adapterInject","getDataAttr","useBaseComponent","adapter_","foundation","ResizeItemFoundation","onMounted","init","value","registerItem","onUnmounted","destroy","_createVNode","classNames","default"],"mappings":";;;;;;;;;AAaA,MAAMA,IAAYC,EAAWC,QAcvBC,IAA2C;AAAA,EAC/CC,OAAOC,EAAUC;AAAAA,EACjBC,WAAWF,EAAUG;AAAAA,EACrBC,KAAKJ,EAAUG;AAAAA,EACfE,KAAKL,EAAUG;AAAAA,EACfG,eAAeN,EAAUO;AAAAA,EACzBC,UAAUR,EAAUO;AAAAA,EACpBE,aAAaT,EAAUO;AAAAA,EACvBG,aAAaV,EAAUW,UAAU,CAACX,EAAUG,QAAQH,EAAUY,MAAM,CAAC;AACvE,GAEMC,IAAyC;AAAA,EAC7CP,eAAeQ;AAAAA,EACfN,UAAUM;AAAAA,EACVL,aAAaK;AACf,GACaC,IAAeC,EAAalB,GAAWe,CAAY,GAE1DI,IAAaC,gBAAAA,EAAgB;AAAA,EACjCC,OAAO;AAAA,IAAE,GAAGJ;AAAAA,EAAc;AAAA,EAC1BK,MAAM;AAAA,EACNC,MAAMF,GAAO;AAAA,IAAEG,OAAAA;AAAAA,EAAM,GAAG;AACtB,UAAMC,IAAQC,KACRC,IAAUC,KACVC,IAAQC,EAAS;AAAA,MACrBC,YAAY;AAAA,IACd,CAAC,GACKC,IAAUC,KACV;AAAA,MAAEC,SAASC;AAAAA,MAAeC,aAAAA;AAAAA,IAAY,IAAIC,EAAiBhB,GAAOQ,CAAK;AAC7E,aAASS,IAAgE;AACvE,aAAO;AAAA,QACL,GAAGH,EAAc;AAAA;IAErB;AACA,UAAMD,IAAUI,KACVC,IAAa,IAAIC,EAAqBN,CAAO;AAEnDO,WAAAA,EAAU,MAAM;AACdF,MAAAA,EAAWG,KAAI;AACf,YAAM;AAAA,QAAEpC,KAAAA;AAAAA,QAAKC,KAAAA;AAAAA,QAAKC,eAAAA;AAAAA,QAAeE,UAAAA;AAAAA,QAAUC,aAAAA;AAAAA,QAAaC,aAAAA;AAAAA,MAAa,IAAGS;AAC5DW,MAAAA,EAAQW,MAAMC,aAAajB,GAASrB,GAAKC,GAAKK,GAAaJ,GAAeE,GAAUC,CAAW;AAAA,IAC7G,CAAC,GAEDkC,EAAY,MAAM;AAChBN,MAAAA,EAAWO,QAAO;AAAA,IACpB,CAAC,GAEM,MAAM;;AACX,YAAM7C,IAAuB;AAAA,QAC3B,GAAGoB,EAAMpB;AAAAA;AAGX,aAAA8C,EAAA,OAAA;AAAA,QAAA,OACc9C;AAAAA,QAAK,OAAS+C,EAAW3B,EAAMjB,WAAWP,IAAY,OAAO;AAAA,QAAC,KAAO8B;AAAAA,MAAO,GAAA,EACrFF,IAAAA,EAAMwB,YAANxB,gBAAAA,EAAAA,KAAAA,EAAiB,CAAA;AAAA;EAI1B;AACF,CAAC;"}