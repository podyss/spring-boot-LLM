{"version":3,"file":"quickControl.js","sources":["../../src/components/datePicker/quickControl.tsx"],"sourcesContent":["import { defineComponent, ref, h, Fragment, useSlots, PropType } from 'vue';\nimport classNames from 'classnames';\nimport { cssClasses, strings } from '@douyinfe/semi-foundation/datePicker/constants';\nimport Button from '../button/index';\nimport { TypographyText } from '../typography/index';\nimport { noop } from '@douyinfe/semi-foundation/utils/function';\nimport { PresetsType, PresetType } from '@douyinfe/semi-foundation/datePicker/foundation';\nimport { DateInputFoundationProps } from '@douyinfe/semi-foundation/datePicker/inputFoundation';\nimport * as PropTypes from '../PropTypes';\nimport { vuePropsMake } from '../PropTypes';\n\nimport { ComponentObjectPropsOptions } from 'vue';\nimport { CombineProps } from '../interface';\nconst prefixCls = cssClasses.PREFIX;\nexport interface QuickControlProps {\n  presets: PresetsType;\n  presetPosition: (typeof strings.PRESET_POSITION_SET)[number];\n  onPresetClick: (preset: PresetType, e: MouseEvent) => void;\n  type: string;\n  insetInput: DateInputFoundationProps['insetInput'];\n  locale: any;\n}\nconst propTypes: CombineProps<QuickControlProps> = {\n  presets: {\n    type: PropTypes.array,\n    required: true\n  },\n  presetPosition: {\n    type: PropTypes.string as PropType<QuickControlProps['presetPosition']>,\n    required: true\n  },\n  onPresetClick: {\n    type: PropTypes.func as PropType<QuickControlProps['onPresetClick']>,\n    required: true\n  },\n  type: {\n    type: PropTypes.string,\n    required: true\n  },\n  insetInput: {\n    type: [PropTypes.bool, PropTypes.object],\n    required: true\n  },\n  locale: {\n    type: PropTypes.object,\n    required: true\n  },\n};\n\nconst defaultProps = {\n  presets: [] as PresetsType,\n  presetPosition: 'bottom',\n  onPresetClick: noop,\n};\nexport const vuePropsType = vuePropsMake<QuickControlProps>(propTypes, defaultProps);\nconst quickControl = defineComponent({\n  props: { ...vuePropsType },\n  name: 'DatePicker_quickControl',\n  setup(props, {}) {\n    const slots = useSlots();\n\n    return () => {\n      const { presets, onPresetClick, type, presetPosition, insetInput, locale } = props;\n      const isTypeRange = type === 'dateRange' || type === 'dateTimeRange';\n      const isPanelTopAndBottom = presetPosition === 'top' || presetPosition === 'bottom';\n      const isMonth = type === 'month';\n      const isTopAndBottomRange = isPanelTopAndBottom && isTypeRange;\n      const isTopAndBottomMonth = isPanelTopAndBottom && isMonth;\n\n      const wrapperCls = classNames(`${prefixCls}-quick-control`, {\n        [`${prefixCls}-quick-control-${type}`]: type,\n        [`${prefixCls}-quick-control-${presetPosition}`]: true,\n      });\n      const headerCls = classNames({\n        [`${prefixCls}-quick-control-header`]: true,\n      });\n      const contentWrapperCls = classNames({\n        [`${prefixCls}-quick-control-${presetPosition}-content-wrapper`]: true,\n      });\n      const contentCls = classNames({\n        [`${prefixCls}-quick-control-${presetPosition}-content`]: !isTopAndBottomRange && !isTopAndBottomMonth,\n        [`${prefixCls}-quick-control-${presetPosition}-range-content`]: isTopAndBottomRange,\n        [`${prefixCls}-quick-control-${presetPosition}-month-content`]: isTopAndBottomMonth,\n      });\n      const itemCls = classNames({\n        [`${prefixCls}-quick-control-${presetPosition}-content-item`]: !isTopAndBottomRange && !isTopAndBottomMonth,\n        [`${prefixCls}-quick-control-${presetPosition}-range-content-item`]: isTopAndBottomRange,\n        [`${prefixCls}-quick-control-${presetPosition}-month-content-item`]: isTopAndBottomMonth,\n      });\n      const ellipsisCls = classNames({\n        [`${prefixCls}-quick-control-${presetPosition}-content-item-ellipsis`]:\n          !isTopAndBottomRange && !isTopAndBottomMonth,\n        [`${prefixCls}-quick-control-${presetPosition}-range-content-item-ellipsis`]: isTopAndBottomRange,\n        [`${prefixCls}-quick-control-${presetPosition}-month-content-item-ellipsis`]: isTopAndBottomMonth,\n      });\n\n      if (!presets.length) {\n        return null;\n      }\n      return (\n        <div class={wrapperCls} x-insetinput={insetInput ? 'true' : 'false'}>\n          {!isPanelTopAndBottom && <div class={headerCls}>{locale.presets}</div>}\n          <div class={contentWrapperCls}>\n            <div class={contentCls}>\n              {presets.map((item, index) => {\n                const _item: PresetType = typeof item === 'function' ? item() : item;\n                return (\n                  <Button\n                    size=\"small\"\n                    type=\"primary\"\n                    onClick={(e) => onPresetClick(typeof item === 'function' ? item() : item, e)}\n                    key={index}\n                  >\n                    <div class={itemCls}>\n                      <TypographyText ellipsis={{ showTooltip: true }} class={ellipsisCls}>\n                        {_item.text}\n                      </TypographyText>\n                    </div>\n                  </Button>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      );\n    };\n  },\n});\n\nexport default quickControl;\n"],"names":["prefixCls","cssClasses","PREFIX","propTypes","presets","type","PropTypes","array","required","presetPosition","string","onPresetClick","func","insetInput","bool","object","locale","defaultProps","noop","vuePropsType","vuePropsMake","quickControl","defineComponent","props","name","setup","useSlots","isTypeRange","isPanelTopAndBottom","isMonth","isTopAndBottomRange","isTopAndBottomMonth","wrapperCls","classNames","headerCls","contentWrapperCls","contentCls","itemCls","ellipsisCls","length","_createVNode","map","item","index","_item","Button","e","default","TypographyText","showTooltip","text"],"mappings":"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"}