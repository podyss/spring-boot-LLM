{"version":3,"file":"fillStep.js","sources":["../../src/components/steps/fillStep.tsx"],"sourcesContent":["import { isFunction, noop } from 'lodash';\nimport * as PropTypes from '../PropTypes';\nimport classnames from 'classnames';\nimport { stepsClasses as css } from '@douyinfe/semi-foundation/steps/constants';\nimport { IconTickCircle, IconAlertCircle, IconAlertTriangle } from '@kousum/semi-icons-vue';\nimport { CombineProps, VueJsxNode } from '../interface';\nimport { ComponentObjectPropsOptions, CSSProperties, defineComponent, h, PropType, useSlots } from 'vue';\nimport { AriaAttributes } from '../AriaAttributes';\nimport { vuePropsMake } from '../PropTypes';\nimport { Direction } from './fillSteps';\nimport { useHasInProps } from '../_base/baseComponent';\n\nexport type Status = 'wait' | 'process' | 'finish' | 'error' | 'warning';\n\nexport interface FillStepProps {\n  description?: VueJsxNode;\n  icon?: VueJsxNode;\n  status?: Status;\n  title?: VueJsxNode;\n  className?: string;\n  style?: CSSProperties;\n  prefixCls?: string;\n  stepNumber?: string;\n  onChange?: () => void;\n  onClick?: any;\n  onKeyDown?: any;\n  role?: string;\n  'aria-label'?: AriaAttributes['aria-label'];\n  direction?: Direction;\n}\n\nconst propTypes: CombineProps<FillStepProps> = {\n  prefixCls: PropTypes.string,\n  description: PropTypes.node,\n  icon: PropTypes.node,\n  status: PropTypes.string as PropType<FillStepProps['status']>,\n  title: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  onClick: PropTypes.func,\n  onChange: PropTypes.func as PropType<FillStepProps['onChange']>,\n  direction: PropTypes.string as PropType<FillStepProps['direction']>,\n  stepNumber: PropTypes.string,\n  onKeyDown: PropTypes.func as PropType<FillStepProps['onKeyDown']>,\n  role: PropTypes.string,\n  'aria-label': PropTypes.string,\n};\nconst defaultProps = {\n  prefixCls: css.ITEM,\n  status: 'wait',\n  className: '',\n  onChange: noop,\n};\nexport const vuePropsType = vuePropsMake<FillStepProps>(propTypes, defaultProps);\nconst FillStep = defineComponent({\n  props: { ...vuePropsType },\n  name: 'FillStep',\n  setup(props, {}) {\n    const { getProps } = useHasInProps();\n    const slots = useSlots();\n\n    return () => {\n      const {\n        prefixCls,\n        className,\n        title,\n        description,\n        status,\n        style,\n        onClick,\n        icon,\n        onChange,\n        stepNumber,\n        onKeyDown,\n      } = props;\n      const renderIcon = () => {\n        let inner, progress;\n\n        if ('icon' in getProps(props)) {\n          inner = icon;\n        } else if ('status' in getProps(props)) {\n          switch (status) {\n            case 'error':\n              inner = <IconAlertCircle size=\"extra-large\" />;\n              break;\n            case 'wait':\n              inner = stepNumber;\n              break;\n            case 'process':\n              inner = stepNumber;\n              progress = true;\n              break;\n            case 'finish':\n              inner = <IconTickCircle size=\"extra-large\" />;\n              break;\n            case 'warning':\n              inner = <IconAlertTriangle size=\"extra-large\" />;\n              break;\n            default:\n              inner = null;\n              break;\n          }\n        }\n        const cls = classnames({\n          [`${prefixCls}-left`]: true,\n          [`${prefixCls}-icon`]: 'icon' in getProps(props),\n          [`${prefixCls}-plain`]: !('icon' in getProps(props)),\n          [`${prefixCls}-icon-process`]: progress,\n          [`${prefixCls}-hover`]: onChange || onClick,\n        });\n\n        return inner ? <div class={cls}>{inner}</div> : null;\n      };\n\n      const handleClick = (e: MouseEvent) => {\n        onClick?.(e);\n        onChange?.();\n      };\n      const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n          onKeyDown?.(e);\n          onChange?.();\n        }\n      };\n      return (\n        <div\n          role={props['role']}\n          aria-label={props['aria-label']}\n          aria-current=\"step\"\n          tabindex={0}\n          class={classnames(\n            {\n              [prefixCls]: true,\n              [`${prefixCls}-${status}`]: Boolean(status),\n              [`${prefixCls}-${status}-hover`]: Boolean(status) && (onChange || onClick),\n              [`${prefixCls}-${status}-active`]: Boolean(status) && (onChange || onClick),\n              [`${prefixCls}-clickable`]: onChange || onClick,\n            },\n            className\n          )}\n          style={style}\n          onClick={(e) => {\n            handleClick(e);\n          }}\n          onKeydown={handleKeyDown}\n        >\n          {renderIcon()}\n          <div class={`${prefixCls}-content`}>\n            <div class={`${prefixCls}-title`} title={typeof title === 'string' ? title : null}>\n              <span class={`${prefixCls}-title-text`}>{title}</span>\n            </div>\n            <div class={`${prefixCls}-description`} title={typeof description === 'string' ? description : null}>\n              {description}\n            </div>\n          </div>\n        </div>\n      );\n    };\n  },\n});\n\nexport default FillStep;\n"],"names":["propTypes","prefixCls","PropTypes","string","description","node","icon","status","title","className","style","object","onClick","func","onChange","direction","stepNumber","onKeyDown","role","defaultProps","css","ITEM","noop","vuePropsType","vuePropsMake","FillStep","defineComponent","props","name","setup","getProps","useHasInProps","useSlots","renderIcon","inner","progress","_createVNode","IconAlertCircle","IconTickCircle","IconAlertTriangle","cls","classnames","handleClick","e","handleKeyDown","key","Boolean"],"mappings":"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"}