{"version":3,"file":"getColumns.js","sources":["../../src/components/table/getColumns.tsx"],"sourcesContent":["import * as PropTypes from '../PropTypes';\nimport Column from './Column';\nimport {get, isArray, omit} from 'lodash';\nimport { ColumnProps } from './interface';\nimport {VueJsxNode} from \"../interface\";\nimport {isVNode} from \"vue\";\n\n/**\n * Convert jsx children into object columns\n * @param {Node} children\n * @returns\n */\nexport default function getColumns(children: VueJsxNode) {\n    if (children && isArray(children)) {\n        const columns: ColumnProps[] = [];\n        children.forEach(child => {\n            if (isVNode(child) && (child.type === Column || get(child, 'type.name') === 'Column')) {\n                const col = omit(child.props, ['children']);\n\n                //@ts-ignore\n                const children_ = child.children?.default?(child.children?.default?.()):child.children\n                if (Array.isArray(children_) && children_.length) {\n                    col.children = getColumns(children_);\n                }\n\n                columns.push({\n                    key: child.props.dataIndex,\n                    ...col,\n                });\n            }\n        })\n\n        return columns;\n    }\n\n    return [];\n}\n"],"names":["getColumns","children","isArray","columns","forEach","child","isVNode","type","Column","get","col","omit","props","children_","default","Array","length","push","key","dataIndex"],"mappings":";;;AAYe,SAASA,EAAWC,GAAsB;AACrD,MAAIA,KAAYC,EAAQD,CAAQ,GAAG;AAC/B,UAAME,IAAyB,CAAA;AAC/BF,WAAAA,EAASG,QAAQC,CAAAA,MAAS;;AACtB,UAAIC,EAAQD,CAAK,MAAMA,EAAME,SAASC,KAAUC,EAAIJ,GAAO,WAAW,MAAM,WAAW;AACnF,cAAMK,IAAMC,EAAKN,EAAMO,OAAO,CAAC,UAAU,CAAC,GAGpCC,KAAYR,IAAAA,EAAMJ,aAANI,QAAAA,EAAgBS,WAAST,KAAAA,IAAAA,EAAMJ,aAANI,gBAAAA,EAAgBS,YAAhBT,gBAAAA,EAAAA,KAAAA,KAA6BA,EAAMJ;AAC9E,QAAIc,MAAMb,QAAQW,CAAS,KAAKA,EAAUG,WACtCN,EAAIT,WAAWD,EAAWa,CAAS,IAGvCV,EAAQc,KAAK;AAAA,UACTC,KAAKb,EAAMO,MAAMO;AAAAA,UACjB,GAAGT;AAAAA,QACP,CAAC;AAAA,MACL;AAAA,IACJ,CAAC,GAEMP;AAAAA,EACX;AAEA,SAAO;AACX;"}