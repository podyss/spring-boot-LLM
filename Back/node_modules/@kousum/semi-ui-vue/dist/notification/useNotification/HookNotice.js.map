{"version":3,"file":"HookNotice.js","sources":["../../../src/components/notification/useNotification/HookNotice.tsx"],"sourcesContent":["import Notice from '../notice';\nimport { NoticeInstance } from '@douyinfe/semi-foundation/notification/notificationFoundation';\nimport { ComponentObjectPropsOptions, defineComponent, h, PropType, ref, useSlots, watch } from 'vue';\nimport { CombineProps } from '../../interface';\n\nexport interface HookNoticeProps extends NoticeInstance {\n  afterClose: (id: string) => void;\n}\n\nexport const vuePropsType = {\n  id: String,\n  afterClose: {\n    type: Function as PropType<HookNoticeProps['afterClose']>,\n    required: true,\n  },\n  motion: [Object, String, Boolean] as PropType<HookNoticeProps['motion']>,\n};\nconst HookNotice = defineComponent({\n  props: { ...vuePropsType },\n  name: 'HookNotice',\n  setup(props, { expose, attrs }) {\n    const slots = useSlots();\n    const visible = ref(true);\n\n    function setVisible(val: boolean) {\n      visible.value = val;\n    }\n    const close = () => {\n      setVisible(false);\n    };\n    watch(\n      visible,\n      () => {\n        if (!visible.value) {\n          props.afterClose(String(props.id));\n        }\n      },\n      { immediate: true }\n    );\n\n    return () => {\n      const { afterClose, ...config } = attrs;\n\n      return visible ? <Notice {...config} onHookClose={close} /> : null;\n    };\n  },\n});\n\nexport default HookNotice;\n"],"names":["vuePropsType","id","String","afterClose","type","Function","required","motion","Object","Boolean","HookNotice","defineComponent","props","name","setup","expose","attrs","useSlots","visible","ref","setVisible","val","value","close","watch","immediate","config","_createVNode","Notice","_mergeProps"],"mappings":";;AASO,MAAMA,IAAe;AAAA,EAC1BC,IAAIC;AAAAA,EACJC,YAAY;AAAA,IACVC,MAAMC;AAAAA,IACNC,UAAU;AAAA,EACX;AAAA,EACDC,QAAQ,CAACC,QAAQN,QAAQO,OAAO;AAClC,GACMC,IAAaC,gBAAAA,EAAgB;AAAA,EACjCC,OAAO;AAAA,IAAE,GAAGZ;AAAAA,EAAc;AAAA,EAC1Ba,MAAM;AAAA,EACNC,MAAMF,GAAO;AAAA,IAAEG,QAAAA;AAAAA,IAAQC,OAAAA;AAAAA,EAAM,GAAG;AAChBC,IAAAA,EAAU;AACxB,UAAMC,IAAUC,EAAI,EAAI;AAExB,aAASC,EAAWC,GAAc;AAChCH,MAAAA,EAAQI,QAAQD;AAAAA,IAClB;AACA,UAAME,IAAQA,MAAM;AAClBH,MAAAA,EAAW,EAAK;AAAA;AAElBI,WAAAA,EACEN,GACA,MAAM;AACJ,MAAKA,EAAQI,SACXV,EAAMT,WAAWD,OAAOU,EAAMX,EAAE,CAAC;AAAA,IAErC,GACA;AAAA,MAAEwB,WAAW;AAAA,IAAK,CACpB,GAEO,MAAM;AACX,YAAM;AAAA,QAAEtB,YAAAA;AAAAA,QAAY,GAAGuB;AAAAA,MAAQ,IAAGV;AAElC,aAAOE,IAAOS,EAAAC,GAAAC,EAAeH,GAAM;AAAA,QAAA,aAAeH;AAAAA,MAAK,CAAA,GAAA,IAAA,IAAO;AAAA;EAElE;AACF,CAAC;"}