{"version":3,"file":"splitButtonGroup.js","sources":["../../src/components/button/splitButtonGroup.tsx"],"sourcesContent":["import {\n  defineComponent,\n  ref,\n  h,\n  onActivated,\n  Fragment,\n  StyleValue,\n  ComponentObjectPropsOptions,\n  onMounted,\n  onUnmounted,\n} from 'vue';\nimport classNames from 'classnames';\nimport { cssClasses } from '@douyinfe/semi-foundation/button/constants';\nimport '@douyinfe/semi-foundation/button/button.scss';\nimport { BaseProps } from '../_base/baseComponent';\nimport { CombineProps } from '../interface';\n\nconst prefixCls = cssClasses.PREFIX;\n\n// eslint-disable-next-line\nexport interface SplitButtonGroupProps extends BaseProps {}\n\nexport const vuePropsType: CombineProps<SplitButtonGroupProps> = {\n  style: Object,\n  className: String,\n};\nconst SplitButtonGroup = defineComponent({\n  props: { ...vuePropsType },\n  name: 'SplitButtonGroup',\n  setup(props, { slots }) {\n    const containerRef = ref();\n    let mutationObserver: MutationObserver | null = null;\n\n    onMounted(() => {\n      const addClassName = () => {\n        const buttons = containerRef.value.querySelectorAll('button');\n        const firstButton = buttons[0];\n        const lastButton = buttons[buttons.length - 1];\n        if (!firstButton?.classList.contains(`${prefixCls}-first`)) {\n          firstButton?.classList.add(`${prefixCls}-first`);\n        }\n        if (!lastButton?.classList.contains(`${prefixCls}-last`)) {\n          lastButton?.classList.add(`${prefixCls}-last`);\n        }\n      };\n      if (containerRef.value) {\n        addClassName();\n        const mutationObserver_ = new MutationObserver((mutations, observer) => {\n          for (const mutation of mutations) {\n            if (\n              (mutation.type === 'attributes' && mutation.attributeName === 'class') ||\n              (mutation.type === 'childList' &&\n                Array.from(mutation.addedNodes).some((node) => node.nodeName === 'BUTTON'))\n            ) {\n              addClassName();\n            }\n          }\n        });\n        mutationObserver_.observe(containerRef.value, { attributes: true, childList: true, subtree: true });\n        mutationObserver = mutationObserver_;\n      }\n    });\n\n    onUnmounted(() => {\n      mutationObserver?.disconnect();\n    });\n\n    return () => {\n      const { style, className } = props;\n      const cls = classNames(`${prefixCls}-split`, className);\n      return (\n        <div ref={containerRef} class={cls} style={style} role=\"group\" aria-label={props['aria-label']}>\n          {slots.default ? slots.default() : null}\n        </div>\n      );\n    };\n  },\n});\n\nexport default SplitButtonGroup;\n"],"names":["prefixCls","cssClasses","PREFIX","vuePropsType","style","Object","className","String","SplitButtonGroup","defineComponent","props","name","setup","slots","containerRef","ref","mutationObserver","onMounted","addClassName","buttons","value","querySelectorAll","firstButton","lastButton","length","classList","contains","add","mutationObserver_","MutationObserver","mutations","observer","mutation","type","attributeName","Array","from","addedNodes","some","node","nodeName","observe","attributes","childList","subtree","onUnmounted","disconnect","cls","classNames","_createVNode","default"],"mappings":";;;;AAiBA,MAAMA,IAAYC,EAAWC,QAKhBC,IAAoD;AAAA,EAC/DC,OAAOC;AAAAA,EACPC,WAAWC;AACb,GACMC,IAAmBC,gBAAAA,EAAgB;AAAA,EACvCC,OAAO;AAAA,IAAE,GAAGP;AAAAA,EAAc;AAAA,EAC1BQ,MAAM;AAAA,EACNC,MAAMF,GAAO;AAAA,IAAEG,OAAAA;AAAAA,EAAM,GAAG;AACtB,UAAMC,IAAeC;AACrB,QAAIC,IAA4C;AAEhDC,WAAAA,EAAU,MAAM;AACd,YAAMC,IAAeA,MAAM;AACzB,cAAMC,IAAUL,EAAaM,MAAMC,iBAAiB,QAAQ,GACtDC,IAAcH,EAAQ,CAAC,GACvBI,IAAaJ,EAAQA,EAAQK,SAAS,CAAC;AAC7C,QAAKF,KAAAA,QAAAA,EAAaG,UAAUC,SAAS,GAAG1B,CAAS,aAC/CsB,KAAAA,QAAAA,EAAaG,UAAUE,IAAI,GAAG3B,CAAS,WAEpCuB,KAAAA,QAAAA,EAAYE,UAAUC,SAAS,GAAG1B,CAAS,YAC9CuB,KAAAA,QAAAA,EAAYE,UAAUE,IAAI,GAAG3B,CAAS;AAAA;AAG1C,UAAIc,EAAaM,OAAO;AACtBF,QAAAA;AACA,cAAMU,IAAoB,IAAIC,iBAAiB,CAACC,GAAWC,MAAa;AACtE,qBAAWC,KAAYF;AACrB,aACGE,EAASC,SAAS,gBAAgBD,EAASE,kBAAkB,WAC7DF,EAASC,SAAS,eACjBE,MAAMC,KAAKJ,EAASK,UAAU,EAAEC,KAAMC,CAAAA,MAASA,EAAKC,aAAa,QAAQ,MAE3EtB;QAGN,CAAC;AACDU,QAAAA,EAAkBa,QAAQ3B,EAAaM,OAAO;AAAA,UAAEsB,YAAY;AAAA,UAAMC,WAAW;AAAA,UAAMC,SAAS;AAAA,QAAK,CAAC,GAClG5B,IAAmBY;AAAAA,MACrB;AAAA,IACF,CAAC,GAEDiB,EAAY,MAAM;AAChB7B,MAAAA,KAAAA,QAAAA,EAAkB8B;AAAAA,IACpB,CAAC,GAEM,MAAM;AACX,YAAM;AAAA,QAAE1C,OAAAA;AAAAA,QAAOE,WAAAA;AAAAA,MAAW,IAAGI,GACvBqC,IAAMC,EAAW,GAAGhD,CAAS,UAAUM,CAAS;AACtD,aAAA2C,EAAA,OAAA;AAAA,QAAA,KACYnC;AAAAA,QAAY,OAASiC;AAAAA,QAAG,OAAS3C;AAAAA,QAAK,MAAA;AAAA,QAAA,cAA2BM,EAAM,YAAY;AAAA,SAC1FG,CAAAA,EAAMqC,UAAUrC,EAAMqC,QAAS,IAAG,IAAI,CAAA;AAAA;EAI/C;AACF,CAAC;"}