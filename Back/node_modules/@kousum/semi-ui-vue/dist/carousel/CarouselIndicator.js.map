{"version":3,"file":"CarouselIndicator.js","sources":["../../src/components/carousel/CarouselIndicator.tsx"],"sourcesContent":["import cls from 'classnames';\nimport * as PropTypes from '../PropTypes';\nimport { cssClasses, strings } from '@douyinfe/semi-foundation/carousel/constants';\nimport { CarouselIndicatorProps } from './interface';\nimport getDataAttr from '@douyinfe/semi-foundation/utils/getDataAttr';\nimport { ComponentObjectPropsOptions, CSSProperties, defineComponent, h, PropType, useSlots, VNode } from 'vue';\nimport { vuePropsMake } from '../PropTypes';\nimport { CombineProps } from '../interface';\nconst propTypes: CombineProps<CarouselIndicatorProps> = {\n  activeKey: PropTypes.number,\n  className: PropTypes.string,\n  position: PropTypes.string as PropType<CarouselIndicatorProps['position']>,\n  size: PropTypes.string as PropType<CarouselIndicatorProps['size']>,\n  style: PropTypes.object,\n  theme: PropTypes.string as PropType<CarouselIndicatorProps['theme']>,\n  total: PropTypes.number,\n  onIndicatorChange: PropTypes.func as PropType<CarouselIndicatorProps['onIndicatorChange']>,\n  type: String as PropType<CarouselIndicatorProps['type']>,\n  trigger: PropTypes.string as PropType<CarouselIndicatorProps['trigger']>,\n  activeIndex: PropTypes.number,\n\n  defaultActiveIndex: PropTypes.number,\n};\n\nexport const vuePropsType = vuePropsMake<CarouselIndicatorProps>(propTypes, {});\nconst CarouselIndicator = defineComponent({\n  props: { ...vuePropsType },\n  name: 'CarouselIndicator',\n  setup(props, {}) {\n    const slots = useSlots();\n\n    const onIndicatorChange = (activeIndex: number): void => {\n      props.onIndicatorChange(activeIndex);\n    };\n\n    const handleIndicatorClick = (activeIndex: number): void => {\n      const { trigger } = props;\n      if (trigger === 'click') {\n        onIndicatorChange(activeIndex);\n      }\n    };\n\n    const handleIndicatorHover = (activeIndex: number): void => {\n      const { trigger } = props;\n      if (trigger === 'hover') {\n        onIndicatorChange(activeIndex);\n      }\n    };\n\n    function renderIndicatorContent() {\n      const { total, theme, size, activeIndex } = props;\n      const indicatorContent: VNode[] = [];\n      for (let i = 0; i < total; i++) {\n        indicatorContent.push(\n          <span\n            // role='none'\n            key={i}\n            data-index={i}\n            class={cls([`${cssClasses.CAROUSEL_INDICATOR}-item`], {\n              [`${cssClasses.CAROUSEL_INDICATOR}-item-active`]: i === activeIndex,\n              [`${cssClasses.CAROUSEL_INDICATOR}-item-${theme}`]: theme,\n              [`${cssClasses.CAROUSEL_INDICATOR}-item-${size}`]: size,\n            })}\n            onClick={() => handleIndicatorClick(i)}\n            onMouseenter={() => handleIndicatorHover(i)}\n          ></span>\n        );\n      }\n      return indicatorContent;\n    }\n\n    return () => {\n      const { type, size, theme, style, className, position, ...restProps } = props;\n      const classNames = cls(className, {\n        [cssClasses.CAROUSEL_INDICATOR]: true,\n        [`${cssClasses.CAROUSEL_INDICATOR}-${type}`]: type,\n        [`${cssClasses.CAROUSEL_INDICATOR}-${position}`]: position,\n      });\n\n      const indicatorContent = renderIndicatorContent();\n\n      return (\n        <div class={classNames} style={style} {...getDataAttr(restProps)}>\n          {indicatorContent}\n        </div>\n      );\n    };\n  },\n});\n\nexport default CarouselIndicator;\n"],"names":["propTypes","activeKey","PropTypes","number","className","string","position","size","style","object","theme","total","onIndicatorChange","func","type","String","trigger","activeIndex","defaultActiveIndex","vuePropsType","vuePropsMake","CarouselIndicator","defineComponent","props","name","setup","useSlots","handleIndicatorClick","handleIndicatorHover","renderIndicatorContent","indicatorContent","i","push","_createVNode","cls","cssClasses","CAROUSEL_INDICATOR","onClick","onMouseenter","restProps","classNames","_mergeProps","getDataAttr"],"mappings":";;;;;;AAQA,MAAMA,IAAkD;AAAA,EACtDC,WAAWC,EAAUC;AAAAA,EACrBC,WAAWF,EAAUG;AAAAA,EACrBC,UAAUJ,EAAUG;AAAAA,EACpBE,MAAML,EAAUG;AAAAA,EAChBG,OAAON,EAAUO;AAAAA,EACjBC,OAAOR,EAAUG;AAAAA,EACjBM,OAAOT,EAAUC;AAAAA,EACjBS,mBAAmBV,EAAUW;AAAAA,EAC7BC,MAAMC;AAAAA,EACNC,SAASd,EAAUG;AAAAA,EACnBY,aAAaf,EAAUC;AAAAA,EAEvBe,oBAAoBhB,EAAUC;AAChC,GAEagB,IAAeC,EAAqCpB,GAAW,EAAE,GACxEqB,IAAoBC,gBAAAA,EAAgB;AAAA,EACxCC,OAAO;AAAA,IAAE,GAAGJ;AAAAA,EAAc;AAAA,EAC1BK,MAAM;AAAA,EACNC,MAAMF,GAAO,IAAI;AACDG,IAAAA,EAAU;AAExB,UAAMd,IAAqBK,CAAAA,MAA8B;AACvDM,MAAAA,EAAMX,kBAAkBK,CAAW;AAAA,OAG/BU,IAAwBV,CAAAA,MAA8B;AAC1D,YAAM;AAAA,QAAED,SAAAA;AAAAA,MAAS,IAAGO;AACpB,MAAIP,MAAY,WACdJ,EAAkBK,CAAW;AAAA,OAI3BW,IAAwBX,CAAAA,MAA8B;AAC1D,YAAM;AAAA,QAAED,SAAAA;AAAAA,MAAS,IAAGO;AACpB,MAAIP,MAAY,WACdJ,EAAkBK,CAAW;AAAA;AAIjC,aAASY,IAAyB;AAChC,YAAM;AAAA,QAAElB,OAAAA;AAAAA,QAAOD,OAAAA;AAAAA,QAAOH,MAAAA;AAAAA,QAAMU,aAAAA;AAAAA,MAAa,IAAGM,GACtCO,IAA4B,CAAA;AAClC,eAASC,IAAI,GAAGA,IAAIpB,GAAOoB;AACzBD,QAAAA,EAAiBE,KAAIC,EAAA,QAAA;AAAA,UAAA,KAGZF;AAAAA,UAAC,cACMA;AAAAA,UAAC,OACNG,EAAI,CAAC,GAAGC,EAAWC,kBAAkB,OAAO,GAAG;AAAA,YACpD,CAAC,GAAGD,EAAWC,kBAAkB,cAAc,GAAGL,MAAMd;AAAAA,YACxD,CAAC,GAAGkB,EAAWC,kBAAkB,SAAS1B,CAAK,EAAE,GAAGA;AAAAA,YACpD,CAAC,GAAGyB,EAAWC,kBAAkB,SAAS7B,CAAI,EAAE,GAAGA;AAAAA,UACrD,CAAC;AAAA,UAAC,SACO8B,MAAMV,EAAqBI,CAAC;AAAA,UAAC,cACxBO,MAAMV,EAAqBG,CAAC;AAAA,QAAC,GAAA,IAAA,CAE/C;AAEF,aAAOD;AAAAA,IACT;AAEA,WAAO,MAAM;AACX,YAAM;AAAA,QAAEhB,MAAAA;AAAAA,QAAMP,MAAAA;AAAAA,QAAMG,OAAAA;AAAAA,QAAOF,OAAAA;AAAAA,QAAOJ,WAAAA;AAAAA,QAAWE,UAAAA;AAAAA,QAAU,GAAGiC;AAAAA,MAAW,IAAGhB,GAClEiB,IAAaN,EAAI9B,GAAW;AAAA,QAChC,CAAC+B,EAAWC,kBAAkB,GAAG;AAAA,QACjC,CAAC,GAAGD,EAAWC,kBAAkB,IAAItB,CAAI,EAAE,GAAGA;AAAAA,QAC9C,CAAC,GAAGqB,EAAWC,kBAAkB,IAAI9B,CAAQ,EAAE,GAAGA;AAAAA,MACpD,CAAC,GAEKwB,IAAmBD;AAEzB,aAAAI,SAAAQ,EAAA;AAAA,QAAA,OACcD;AAAAA,QAAU,OAAShC;AAAAA,MAAK,GAAMkC,EAAYH,CAAS,CAAC,IAC7DT,CAAgB,CAAA;AAAA;EAIzB;AACF,CAAC;"}