{"version":3,"file":"Footer.js","sources":["../../src/components/navigation/Footer.tsx"],"sourcesContent":["import * as PropTypes from '../PropTypes';\nimport cls from 'classnames';\n\nimport { cssClasses, strings } from '@douyinfe/semi-foundation/navigation/constants';\n// @ts-ignore\nimport CollapseButton from './CollapseButton';\nimport '@douyinfe/semi-foundation/navigation/navigation.scss';\nimport { noop } from 'lodash';\nimport { BaseProps } from '../_base/baseComponent';\nimport { ComponentObjectPropsOptions, defineComponent, h, isVNode, PropType, VNode } from 'vue';\nimport { useNavContext } from './nav-context/Consumer';\nimport { CombineProps, VueJsxNode } from '../interface';\n\nexport interface NavFooterProps extends BaseProps {\n  collapseButton?: VueJsxNode;\n  collapseText?: (collapsed?: boolean) => VueJsxNode;\n  onClick?: (event: MouseEvent) => void;\n}\n\nexport const vuePropsType: CombineProps<NavFooterProps> = {\n  // children: PropTypes.node,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  collapseButton: {\n    type: PropTypes.any as PropType<NavFooterProps['collapseButton']>,\n    default: false,\n  },\n  collapseText: PropTypes.func as PropType<NavFooterProps['collapseText']>,\n  onClick: { type: PropTypes.func as PropType<NavFooterProps['onClick']>, default: noop },\n};\nconst NavFooter = defineComponent({\n  props: { ...vuePropsType },\n  name: 'NavFooter',\n  setup(props, { slots }) {\n    const { context } = useNavContext();\n\n    const renderCollapseButton = () => {\n      const { collapseButton, collapseText } = props;\n\n      if (isVNode(collapseButton)) {\n        return collapseButton;\n      }\n\n      const { onCollapseChange, prefixCls, locale, isCollapsed } = context.value;\n\n      return (\n        <CollapseButton\n          prefixCls={prefixCls}\n          isCollapsed={isCollapsed}\n          locale={locale}\n          onClick={onCollapseChange}\n          collapseText={collapseText}\n          {...(typeof collapseButton === 'object' ? collapseButton : {})}\n        />\n      );\n    };\n\n    return () => {\n      const { style, className, collapseButton, onClick } = props;\n      let children = slots.default?.();\n      const { isCollapsed, mode } = context.value;\n\n      if (!isVNode(children) && collapseButton && mode !== strings.MODE_HORIZONTAL) {\n        children = renderCollapseButton() as any;\n      }\n\n      const wrapCls = cls(className, `${cssClasses.PREFIX}-footer`, {\n        [`${cssClasses.PREFIX}-footer-collapsed`]: isCollapsed,\n      });\n\n      return (\n        <div class={wrapCls} style={style} onClick={onClick}>\n          {children}\n        </div>\n      );\n    };\n  },\n});\n\nexport default NavFooter;\n"],"names":["vuePropsType","style","PropTypes","object","className","string","collapseButton","type","any","default","collapseText","func","onClick","noop","NavFooter","defineComponent","props","name","setup","slots","context","useNavContext","renderCollapseButton","isVNode","onCollapseChange","prefixCls","locale","isCollapsed","value","_createVNode","CollapseButton","_mergeProps","children","mode","strings","MODE_HORIZONTAL","wrapCls","cls","cssClasses","PREFIX"],"mappings":";;;;;;;;AAmBO,MAAMA,IAA6C;AAAA;AAAA,EAExDC,OAAOC,EAAUC;AAAAA,EACjBC,WAAWF,EAAUG;AAAAA,EACrBC,gBAAgB;AAAA,IACdC,MAAML,EAAUM;AAAAA,IAChBC,SAAS;AAAA,EACV;AAAA,EACDC,cAAcR,EAAUS;AAAAA,EACxBC,SAAS;AAAA,IAAEL,MAAML,EAAUS;AAAAA,IAA6CF,SAASI;AAAAA,EAAK;AACxF,GACMC,IAAYC,gBAAAA,EAAgB;AAAA,EAChCC,OAAO;AAAA,IAAE,GAAGhB;AAAAA,EAAc;AAAA,EAC1BiB,MAAM;AAAA,EACNC,MAAMF,GAAO;AAAA,IAAEG,OAAAA;AAAAA,EAAM,GAAG;AACtB,UAAM;AAAA,MAAEC,SAAAA;AAAAA,IAAS,IAAGC,EAAa,GAE3BC,IAAuBA,MAAM;AACjC,YAAM;AAAA,QAAEhB,gBAAAA;AAAAA,QAAgBI,cAAAA;AAAAA,MAAc,IAAGM;AAEzC,UAAIO,EAAQjB,CAAc;AACxB,eAAOA;AAGT,YAAM;AAAA,QAAEkB,kBAAAA;AAAAA,QAAkBC,WAAAA;AAAAA,QAAWC,QAAAA;AAAAA,QAAQC,aAAAA;AAAAA,UAAgBP,EAAQQ;AAErE,aAAAC,EAAAC,GAAAC,EAAA;AAAA,QAAA,WAEeN;AAAAA,QAAS,aACPE;AAAAA,QAAW,QAChBD;AAAAA,QAAM,SACLF;AAAAA,QAAgB,cACXd;AAAAA,SACT,OAAOJ,KAAmB,WAAWA,IAAiB,CAAE,CAAA,GAAA,IAAA;AAAA;AAKnE,WAAO,MAAM;;AACX,YAAM;AAAA,QAAEL,OAAAA;AAAAA,QAAOG,WAAAA;AAAAA,QAAWE,gBAAAA;AAAAA,QAAgBM,SAAAA;AAAAA,MAAS,IAAGI;AACtD,UAAIgB,KAAWb,IAAAA,EAAMV,YAANU,gBAAAA,EAAAA,KAAAA;AACf,YAAM;AAAA,QAAEQ,aAAAA;AAAAA,QAAaM,MAAAA;AAAAA,UAASb,EAAQQ;AAEtC,MAAI,CAACL,EAAQS,CAAQ,KAAK1B,KAAkB2B,MAASC,EAAQC,oBAC3DH,IAAWV,EAAoB;AAGjC,YAAMc,IAAUC,EAAIjC,GAAW,GAAGkC,EAAWC,MAAM,WAAW;AAAA,QAC5D,CAAC,GAAGD,EAAWC,MAAM,mBAAmB,GAAGZ;AAAAA,MAC7C,CAAC;AAED,aAAAE,EAAA,OAAA;AAAA,QAAA,OACcO;AAAAA,QAAO,OAASnC;AAAAA,QAAK,SAAWW;AAAAA,MAAO,GAAA,CAChDoB,CAAQ,CAAA;AAAA;EAIjB;AACF,CAAC;"}